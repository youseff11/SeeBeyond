{% load static %}
{% include "parts/nav.html" %} {# تأكد من مسار الـ nav bar بتاعك #}

{% block content %}
<style>
    .confirmation-container {
        max-width: 800px;
        margin: 50px auto;
        padding: 30px;
        border: 1px solid #ddd;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        background-color: #fff;
        text-align: center;
    }
    .confirmation-container h1 {
        color: #28a745; /* Green for success */
        margin-bottom: 20px;
    }
    .confirmation-details p {
        font-size: 1.1em;
        margin-bottom: 10px;
    }
    .order-items-list {
        list-style: none;
        padding: 0;
        margin-top: 20px;
        border-top: 1px solid #eee;
        padding-top: 15px;
    }
    .order-items-list li {
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
        border-bottom: 1px dashed #eee;
    }
    .order-items-list li:last-child {
        border-bottom: none;
    }
    .back-to-shop {
        display: inline-block;
        margin-top: 30px;
        padding: 10px 20px;
        background-color: #007bff;
        color: white;
        text-decoration: none;
        border-radius: 5px;
        transition: background-color 0.3s ease;
    }
    .back-to-shop:hover {
        background-color: #0056b3;
    }
</style>

<main class="confirmation-container">
    <h1>Order Confirmed!</h1>
    <p>Thank you for your order. Your order details are below:</p>

    <div class="confirmation-details">
        <p><strong>Order ID:</strong> {{ order.id }}</p>
        <p><strong>Date Ordered:</strong> {{ order.date_ordered|date:"F d, Y P" }}</p>
        <p><strong>Total Price:</strong> ${{ order.total_price|floatformat:2 }}</p>
        {% if order.user %}
            <p><strong>Ordered By:</strong> {{ order.user.username }}</p>
        {% else %}
            <p><strong>Ordered By:</strong> Guest</p>
        {% endif %}
    </div>

    <h3>Order Items:</h3>
    {% if order_items %}
        <ul class="order-items-list">
            {% for item in order_items %}
                <li>
                    <span>{{ item.product.name }} (x{{ item.quantity }})</span>
                    <span>${{ item.get_total|floatformat:2 }}</span>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No items found for this order.</p>
    {% endif %}

    <a href="{% url 'shop' %}" class="back-to-shop">Continue Shopping</a>
</main>

{% endblock content %}

{% include "parts/footer.html" %} {# تأكد من مسار الـ footer بتاعك #}